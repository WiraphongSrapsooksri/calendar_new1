<!-- <mat-toolbar color="primary">
  <button mat-button (click)="previousWeek()">Previous</button>
  <button mat-button (click)="nextWeek()">Next</button>
</mat-toolbar>

<mat-sidenav-container class="sidenav-container">
  <mat-sidenav-content class="sidenav-content">
    <mwl-calendar-week-view
      [viewDate]="viewDate"
      [events]="events"
      [dayStartHour]="11"
      [dayEndHour]="20"
      (eventClicked)="handleEventClicked($event.event)"
      (hourSegmentClicked)="handleHourSegmentClicked($event)"
      [hourSegmentHeight]="40"
      [hourSegments]="2"
      (beforeViewRender)="beforeViewRender($event)"
      [refresh]="refresh"
    >    
      <ng-template let-segment="segment" mwlCalendarHourSegmentTemplate>
        <div class="custom-hour-segment">
          <div class="bed-container">
            <div class="bed bed-1" (click)="handleBedClicked(segment.date, 1)">
              <ng-container *ngFor="let event of events">
                <ng-container *ngIf="event.meta.bed === 1 && event.start <= segment.date && (event.end ?? segment.date) > segment.date">
                  <mat-card class="event-card">
                    <mat-card-title>{{ event.title }}</mat-card-title>
                    <mat-card-content>
                      <p>{{ event?.meta?.phone }}</p>
                      <p>Deposit: {{ event?.meta?.deposit }}</p>
                      <p>Additional: {{ event?.meta?.additional }}</p>
                    </mat-card-content>
                  </mat-card>
                </ng-container>
              </ng-container>
            </div>
            <div class="bed bed-2" (click)="handleBedClicked(segment.date, 2)">
              <ng-container *ngFor="let event of events">
                <ng-container *ngIf="event.meta.bed === 2 && event.start <= segment.date && (event.end ?? segment.date) > segment.date">
                  <mat-card class="event-card">
                    <mat-card-title>{{ event.title }}</mat-card-title>
                    <mat-card-content>
                      <p>{{ event?.meta?.phone }}</p>
                      <p>Deposit: {{ event?.meta?.deposit }}</p>
                      <p>Additional: {{ event?.meta?.additional }}</p>
                    </mat-card-content>
                  </mat-card>
                </ng-container>
              </ng-container>
            </div>
          </div>
        </div>
      </ng-template>
    </mwl-calendar-week-view>
  </mat-sidenav-content>
</mat-sidenav-container> -->

<mat-toolbar color="primary">
  <button mat-button (click)="previousWeek()">Previous</button>
  <button mat-button (click)="nextWeek()">Next</button>
</mat-toolbar>

<mat-sidenav-container class="sidenav-container">
  <mat-sidenav-content class="sidenav-content">
    <mwl-calendar-week-view
      [viewDate]="viewDate"
      [events]="events"
      [dayStartHour]="11"
      [dayEndHour]="20"
      (eventClicked)="handleEventClicked($event.event)"
      (hourSegmentClicked)="handleHourSegmentClicked($event)"
      [hourSegmentHeight]="40"
      [hourSegments]="2"
      (beforeViewRender)="beforeViewRender($event)"
      [refresh]="refresh"
      
    >
    </mwl-calendar-week-view>
    
    <ng-template #eventTemplate let-event="event">
      <mat-card class="event-card">
        <mat-card-title>{{ event.title }}</mat-card-title>
        <mat-card-content>
          <p>{{ event.meta?.phone }}</p>
          <p>Deposit: {{ event.meta?.deposit }}</p>
          <p>Additional: {{ event.meta?.additional }}</p>
        </mat-card-content>
      </mat-card>
    </ng-template>
  </mat-sidenav-content>
</mat-sidenav-container>
